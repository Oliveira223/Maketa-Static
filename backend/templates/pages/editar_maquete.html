<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <title>Maketa | Editar Maquete</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/editar_maquete.css') }}">
  <script defer src="{{ url_for('static', filename='js/editar.js') }}"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/header.css') }}">
</head>
<body data-mid="{{ maquete_id }}" data-cloudinary-cloud-name="{{ cloudinary_cloud_name or '' }}" data-cloudinary-upload-preset="{{ cloudinary_upload_preset or '' }}">
  
<main class="content" style="margin-left:0;">
  {% set header_title = 'Editar Maquete #' ~ maquete_id %}
{% include 'components/_header.html' %}
    <header class="view-header">
      <h1>Editar Maquete #{{ maquete_id }}</h1>
      <div class="actions">
        <a href="{{ url_for('admin') }}" class="secondary">Voltar ao Dashboard</a>
      </div>
    </header>

    <form id="edit-form" class="form-grid">
      <!-- Linha: Nome -->
      <input id="nome" type="text" name="nome" placeholder="Nome" required>

      <!-- Linha: Escala / Peso / Proprietário -->
      <div class="grid-3">
        <input id="escala" type="text" name="escala" placeholder="Escala (ex.: 1:50)">
        <input id="peso" type="number" step="0.01" name="peso" placeholder="Peso (kg)">
        <input id="proprietario" type="text" name="proprietario" placeholder="Proprietário">
      </div>

      <!-- Linha: Projeto -->
      <input id="projeto" type="text" name="projeto" placeholder="Projeto">

      <!-- Localização -->
      <div class="grupo-localizacao">
        <input id="cidade" type="text" name="cidade" placeholder="Cidade">
        <input id="estado" type="text" name="estado" placeholder="UF" maxlength="2" style="text-transform: uppercase;">
      </div>

      <!-- Data -->
      <div class="grupo-data">
        <input id="mes" type="number" name="mes" placeholder="Mês (1-12)" min="1" max="12">
        <input id="ano" type="number" name="ano" placeholder="Ano" min="1900" max="2100">
      </div>

      <!-- Dimensões (cm) -->
      <div class="grupo-dimensoes">
        <input id="largura_cm" type="number" name="largura_cm" placeholder="Largura (cm)">
        <input id="altura_cm" type="number" name="altura_cm" placeholder="Altura (cm)">
        <input id="comprimento_cm" type="number" name="comprimento_cm" placeholder="Comprimento (cm)">
      </div>

      <!-- Imagem Principal -->
      <div class="grupo-imagem-principal">
        <div class="coluna-imagem">
          <h3 class="section-heading">Imagem principal</h3>
          <div class="row">
            <button type="button" id="btn-upload-principal" class="secondary btn-upload">Selecionar arquivo</button>
            <input type="file" id="file-imagem-principal" accept="image/*" style="display:none;" />
          </div>
          <input type="url" name="imagem_principal_url" id="input-imagem-principal" placeholder="URL (secure_url)">
          <input type="text" name="imagem_principal_public_id" id="input-public-id-principal" placeholder="public_id">
        </div>
        <div class="coluna-preview">
          <h3 class="section-heading">Prévia</h3>
          <img id="preview-imagem-principal" class="img-preview" alt="">
        </div>
      </div>

      <!-- Imagens Secundárias -->
      <div class="grupo-imagens-secundarias">
        <div class="row" style="margin-bottom:0.5rem;">
          <h3 class="section-heading" style="margin:0">Imagens secundárias</h3>
          <div style="display:flex; gap:0.5rem;">
            <button type="button" id="btn-add-secundaria" class="primary">Adicionar imagem</button>
            <input type="file" id="file-secundarias" accept="image/*" multiple style="display:none;" />
          </div>
        </div>
        <div id="galeria-secundarias" class="galeria-grid"></div>
      </div>

      <!-- Informações adicionais -->
      <div class="grupo-info">
        <h3 class="section-heading">Informações adicionais</h3>
        <textarea name="info" placeholder="Ex.: materiais, observações"></textarea>
      </div>

      <div class="form-actions">
        <button type="submit" class="primary">Salvar alterações</button>
      </div>
    </form>
  </main>
</body>
</html>